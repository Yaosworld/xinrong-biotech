import{d as S,l as g,c as v,o as z,a as r,b as n,e as t,p as B,v as F,q as I,h as f,u as e,F as y,f as V,r as N,t as $,w as T,x as m,k as s}from"./index-1ucue018.js";import{u as A}from"./promotionStore-n-Jp5O7V.js";import{u as D}from"./usePagination-CflrPyUS.js";import{S as K}from"./ShowcaseBanner-C2jSaiFe.js";import{_ as M}from"./NewsCard.vue_vue_type_script_setup_true_lang-BcCAsn9K.js";import{_ as j}from"./LoadingSpinner.vue_vue_type_script_setup_true_lang-CcVPsSWX.js";import{_ as q}from"./EmptyState.vue_vue_type_script_setup_true_lang-N8raxmla.js";const E={class:"news-center pt-[72px]"},L={class:"py-8 -mt-6 relative z-10"},Q={class:"container-base"},U={class:"search-box max-w-2xl mx-auto"},G={class:"news-section py-8"},H={class:"container-base"},J={key:0,class:"py-20"},O={class:"space-y-6"},R={key:0,class:"pagination-wrapper"},W={class:"text-dark-500 text-sm"},le=S({__name:"NewsCenter",setup(X){const a=A(),u=g(""),l=g(""),{currentPageItems:d,paginationInfo:o,goToPage:p,setPageSize:x}=D(v(()=>a.filteredPromotions),{initialPageSize:8,scrollTarget:".news-section"}),k=["最新活动资讯","科研动态一手掌握"],w=v(()=>[{key:"news",number:`${a.promotions.length}+`,label:"活动资讯"},{key:"meetings",number:"50+",label:"学术会议"},{key:"releases",number:"20+",label:"新品发布"}]),_=()=>{a.setFilter("search",l.value.trim()),u.value=l.value.trim(),p(1)},b=()=>{a.clearAllFilters(),l.value="",u.value="",p(1)};return z(async()=>{await a.loadPromotions()}),(Y,i)=>{const h=m("el-option"),C=m("el-select"),P=m("el-pagination");return s(),r("div",E,[n(K,{slogans:k,stats:w.value},null,8,["stats"]),t("section",L,[t("div",Q,[t("div",U,[i[1]||(i[1]=t("i",{class:"fas fa-search text-dark-400 ml-4"},null,-1)),B(t("input",{"onUpdate:modelValue":i[0]||(i[0]=c=>l.value=c),type:"text",placeholder:"搜索促销活动...",class:"search-input",onKeyup:I(_,["enter"])},null,544),[[F,l.value]]),t("button",{class:"search-btn",onClick:_}," 搜索 ")])])]),t("section",G,[t("div",H,[e(a).loading?(s(),r("div",J,[n(j,{size:"lg",text:"加载活动中..."})])):e(d).length===0?(s(),f(q,{key:1,icon:"fas fa-bullhorn",title:"暂无匹配的活动",description:"尝试调整搜索关键词","action-text":"清空搜索",onAction:b})):(s(),r(y,{key:2},[t("div",O,[(s(!0),r(y,null,N(e(d),c=>(s(),f(M,{key:c.id,promotion:c,"highlight-keyword":u.value},null,8,["promotion","highlight-keyword"]))),128))]),e(o).totalPages>1?(s(),r("div",R,[t("span",W,"共 "+$(e(o).totalItems)+" 条",1),n(C,{"model-value":e(o).pageSize,size:"default",style:{width:"100px"},onChange:e(x)},{default:T(()=>[n(h,{value:8,label:"8条/页"}),n(h,{value:16,label:"16条/页"})]),_:1},8,["model-value","onChange"]),n(P,{"current-page":e(o).currentPage,"page-size":e(o).pageSize,total:e(o).totalItems,layout:"prev, pager, next, jumper",onCurrentChange:e(p)},null,8,["current-page","page-size","total","onCurrentChange"])])):V("",!0)],64))])])])}}});export{le as default};
